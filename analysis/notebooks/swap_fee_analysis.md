# Solana Swap Programs Fee Analysis

**작성일**: 2024-04-03
**분석 주제**: Solana DEX의 스왑 프로그램별 수수료 분포 분석
**분석 기간**: 최근 30일 (2024-03-04 ~ 2024-04-02)

## 1. 분석 목적

Solana 블록체인의 주요 DEX 프로그램들의 수수료 구조를 파악하고, 프로그램별 특성을 이해하기 위한 분석을 진행합니다.

## 2. 데이터 개요

- **분석 대상**: Solana 메인넷의 트랜잭션 및 스왑 데이터
- **데이터 기간**: 
  - 트랜잭션 수수료 분석: 최근 7일
  - 스왑 프로그램 분석: 최근 30일
- **데이터 규모**:
  - 전체 트랜잭션 수: 약 5.97억 건
  - 전체 스왑 건수: 약 6억 건
  - 고유 사용자 수: 약 640만 명

## 3. 수수료 분포 분석

### 3.1 수수료 구간별 분포

#### 쿼리 및 결과
- [fee_distribution_by_range.sql](../../queries/fee_distribution_by_range.sql)
- [fee_distribution_by_range.csv](../../data/samples/solana/fee_distribution_by_range.csv)

#### 시각화
- [수수료 구간별 분포 (막대 그래프)](../images/fee_distribution_bar.png)
- [수수료 구간별 누적 분포 (파이 차트)](../images/fee_distribution_pie.png)
- [수수료 구간별 분석 (로그 스케일)](../images/fee_range_analysis.png)

#### 주요 발견사항

1. **균등한 수수료 분포**
   - 기본 수수료 미만 (< 0.000005 SOL)
   - 기본 수수료 (= 0.000005 SOL): 24.4% (1.46억 건)
   - 기본 수수료 +20% 이내 (0.000005-0.000006 SOL): 21.69% (1.30억 건)
   - 기본 수수료 2배 이내 (0.000006-0.00001 SOL): 19.44% (1.16억 건)
   - 기본 수수료 2-10배 (0.00001-0.00005 SOL): 23.89% (1.43억 건)
   - 상위 4개 구간이 전체의 89.42%를 차지

2. **고수수료 트랜잭션 특성**
   - 기본 수수료 10-20배 (0.00005-0.0001 SOL): 4.89% (2,919만 건)
   - 기본 수수료 20-200배 (0.0001-0.001 SOL): 3.97% (2,371만 건)
   - 기본 수수료 200배 초과 (> 0.001 SOL): 1.72% (1,025만 건)
   - 전체 거래의 10.58%만이 기본 수수료의 10배 이상 사용

3. **수수료 값의 다양성**
   - 기본 수수료: 단일 값(0.000005 SOL)
   - 기본 수수료 +20% 이내: 999개 고유 값
   - 기본 수수료 2-10배: 40,000개 고유 값
   - 기본 수수료 20-200배: 753,071개 고유 값
   - 기본 수수료 200배 초과: 466,448개 고유 값

4. **극단값 분석**
   - 최소: 0.000005 SOL (기본 수수료)
   - 최대: 22.34 SOL (기본 수수료의 4,468배)
   - 대부분의 트랜잭션이 기본 수수료의 2배 이하 사용

### 3.2 상위 5개 스왑 프로그램 분석

#### 쿼리 및 결과
- [swap_programs_analysis.sql](../../queries/swap_programs_analysis.sql)
- [swap_program_ratio.csv](../../data/samples/solana/swap_program_ratio.csv)

#### 주요 발견사항
- **분석 기간**: 최근 30일 (2024-03-04 ~ 2024-04-02)
- **전체 스왑 건수**: 599,350,920건
- **시장 점유율 상위 5개 프로그램**:
  1. Raydium Liquidity Pool V4: 57.29% (343,427,073건)
  2. Raydium Concentrated Liquidity: 15.50% (92,920,369건)
  3. Pump.fun: 15.20% (91,116,412건)
  4. Raydium Constant Product Market Maker: 5.14% (30,834,804건)
  5. Meteora DLMM Pools Program: 4.97% (29,812,009건)

### 3.3 상위 5개 프로그램 수수료 상세 분석

#### 쿼리 및 결과
- [top5_swap_programs_fee_analysis.sql](../../queries/top5_swap_programs_fee_analysis.sql)

## 4. 종합 인사이트

1. **수수료 구조의 일관성**
   - Solana의 기본 트랜잭션 수수료(0.000005 SOL)가 전체 거래의 약 1/4을 차지
   - 대부분의 거래가 0.00001 SOL 이하의 낮은 수수료 범위에 집중
   - 분석된 전체 트랜잭션 중 약 1.45억 건이 기본 수수료로 처리됨

2. **시장 집중도**
   - Raydium 관련 프로그램들이 전체 스왑 거래의 약 78% 차지 (467,182,246건)
   - 새로운 프로토콜인 Pump.fun이 15.20%의 점유율(91,116,412건)로 빠르게 성장
   - 상위 5개 프로그램이 전체 스왑의 98.1%를 처리

3. **프로그램별 특성**
   - 각 프로그램별 수수료 정책과 사용 패턴이 다양하게 나타남
   - 모든 주요 프로그램이 최근 30일 동안 지속적으로 활성화된 상태 유지
   - 프로그램별 고유 사용자 수는 Raydium V4가 가장 많은 641만 명으로 확인 